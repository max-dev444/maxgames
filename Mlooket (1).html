<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mlooket</title>
<style>
body{
  margin:0;
  background:linear-gradient(120deg,#050510,#0a0a20,#02010a);
  color:white;
  font-family:Arial;
  display:flex;
  height:100vh;
  overflow:hidden;
}
#maker,#player{
  flex:1;
  padding:15px;
  overflow:auto;
}
h1{
  text-align:center;
  color:#7df;
  text-shadow:0 0 10px #3cf;
}

.panel{
  background:rgba(0,0,0,0.6);
  padding:15px;
  border-radius:12px;
  box-shadow:0 0 20px #000;
  margin-bottom:15px;
}

input,textarea,select{
  width:100%;
  margin:6px 0;
  padding:10px;
  background:#0b0b18;
  color:white;
  border:1px solid #345;
  border-radius:8px;
}

button{
  width:100%;
  padding:10px;
  background:linear-gradient(90deg,#09f,#06f);
  border:none;
  border-radius:10px;
  color:white;
  font-size:15px;
  cursor:pointer;
  margin-top:6px;
  box-shadow:0 0 10px #09f;
}
button:hover{
  filter:brightness(1.3);
}

.quizCard{
  background:#0b0b18;
  padding:10px;
  border-radius:10px;
  margin:8px 0;
  cursor:pointer;
  box-shadow:0 0 8px #000;
}
.quizCard:hover{
  background:#151535;
}

.questionCard{
  background:#101025;
  border-radius:10px;
  padding:8px;
  margin:5px 0;
  font-size:13px;
}

.answerBtn{
  background:#141438;
  box-shadow:0 0 6px #00f;
}

.answerBtn:hover{
  background:#1d1d55;
}

</style>
</head>
<body>

<div id="maker">
  <h1>ðŸ§  Mlooket Maker</h1>

  <div class="panel">
    <input id="quizName" placeholder="Quiz Name">

    <textarea id="question" placeholder="Question"></textarea>
    <input id="a1" placeholder="Answer 1">
    <input id="a2" placeholder="Answer 2">
    <input id="a3" placeholder="Answer 3">
    <input id="a4" placeholder="Answer 4">
    <select id="correct">
      <option value="0">Answer 1 is correct</option>
      <option value="1">Answer 2 is correct</option>
      <option value="2">Answer 3 is correct</option>
      <option value="3">Answer 4 is correct</option>
    </select>

    <button onclick="addQuestion()">âž• Add Question</button>
    <button onclick="saveQuiz()">ðŸ’¾ Save Quiz</button>
  </div>

  <div class="panel">
    <h3>Current Quiz Questions</h3>
    <div id="questionList"></div>
  </div>

  <div class="panel">
    <h3>Your Quizzes</h3>
    <div id="quizList"></div>
  </div>
</div>

<div id="player">
  <h1>ðŸŽ® Mlooket Play</h1>
  <div class="panel" id="playArea">Select a quiz to play.</div>
</div>

<script>
let currentQuiz=[]
let quizzes=JSON.parse(localStorage.getItem("mlooket"))||{}

function addQuestion(){
  const q=question.value
  const a=[a1.value,a2.value,a3.value,a4.value]
  const c=correct.value
  if(!q||a.includes("")) return alert("Fill everything")
  currentQuiz.push({q,a,c})
  question.value=a1.value=a2.value=a3.value=a4.value=""
  renderQuestions()
}

function renderQuestions(){
  questionList.innerHTML=""
  currentQuiz.forEach((x,i)=>{
    const d=document.createElement("div")
    d.className="questionCard"
    d.innerText=(i+1)+". "+x.q
    questionList.appendChild(d)
  })
}

function saveQuiz(){
  const name=quizName.value
  if(!name||currentQuiz.length==0) return alert("Need name & questions")
  quizzes[name]=currentQuiz
  localStorage.setItem("mlooket",JSON.stringify(quizzes))
  currentQuiz=[]
  quizName.value=""
  renderQuestions()
  updateList()
}

function updateList(){
  quizList.innerHTML=""
  for(let q in quizzes){
    const d=document.createElement("div")
    d.className="quizCard"
    d.innerText=q+" ("+quizzes[q].length+" questions)"
    d.onclick=()=>playQuiz(q)
    quizList.appendChild(d)
  }
}
updateList()

let playData,index,score

function playQuiz(name){
  playData=quizzes[name]
  index=0
  score=0
  showQuestion()
}

function showQuestion(){
  if(index>=playData.length){
    playArea.innerHTML=`<h2>Finished!</h2><p>Score: ${score}/${playData.length}</p>`
    return
  }
  const q=playData[index]
  let html=`<h2>${q.q}</h2>`
  q.a.forEach((ans,i)=>{
    html+=`<button class="answerBtn" onclick="answer(${i})">${ans}</button>`
  })
  playArea.innerHTML=html
}

function answer(i){
  if(i==playData[index].c) score++
  index++
  showQuestion()
}
</script>

</body>
</html>
